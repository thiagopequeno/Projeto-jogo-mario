<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./css/cadastro.css">
    <title>Cadastro</title>
</head>
<body>
    <div class="background-image"></div>

    <div class="modal">
        <h2>Mario Signup</h2>
            <label for="name">Name:</label>
            <input type="text" id="nome" name="name" required>

            <label for="email">Email:</label>
            <input type="email" id="email" name="email" required>

            <label for="password">Password:</label>
            <input type="password" id="senha" name="password" required>

            <button onclick="cadastrar()" id="botaocadastro">Signup</button>
    </div>
</body>
</html>
<script>
    
function cadastrar(){

        fetch("/usuario/cadastrar",
        {
            method:"POST",
            body:JSON.stringify({
        nome:document.getElementById("nome").value,
        email:document.getElementById("email").value,
        senha:document.getElementById("senha").value
    }),
    headers:{
        "Content-type":"application/json"
    }
}).then((res)=>{
    return res.json()
}).then((res)=>{
    if(res.status == "ok"){
        alert("Cadastrado com sucesso")
        window.location.href = "/jogo.html"
    }else{
        alert("Erro ao cadastrar")
    }
}
).catch((err)=>{
    console.log(err)
})


}
</script>

